-- CREATE DATABASE personworkcontrol;

CREATE TABLE person (
  id_person DECIMAL(12) NOT NULL,
  first_name NVARCHAR(255) NOT NULL,
  last_name NVARCHAR(255) NOT NULL,
  email NVARCHAR(255) NOT NULL,
  CONSTRAINT pk_person PRIMARY KEY (id_person)
);

CREATE TABLE person_hour_value (
  id_person DECIMAL(12) NOT NULL,
  year_month DECIMAL(12) NOT NULL,
  value DECIMAL(18,6) NOT NULL,
  CONSTRAINT pk_person_hour_value PRIMARY KEY (id_person, year_month),
  CONSTRAINT FK_person_personhourval FOREIGN KEY (id_person) REFERENCES person(id_person)
);

CREATE TABLE charge_position (
  id_charge_position DECIMAL(12) NOT NULL,
  name NVARCHAR(255) NOT NULL,
  CONSTRAINT pk_charge_position PRIMARY KEY (id_charge_position)
);

CREATE TABLE person_work_situation (
  id_person_work_situation DECIMAL(12) NOT NULL,
  id_charge_position DECIMAL(12) NOT NULL,
  id_person DECIMAL(12) NOT NULL,
  year_month DECIMAL(12) NOT NULL,
  CONSTRAINT pk_person_work_situation PRIMARY KEY (id_person_work_situation),
  CONSTRAINT FK_person_personworksit FOREIGN KEY (id_person) REFERENCES person(id_person),
  CONSTRAINT FK_charge_personworksit FOREIGN KEY (id_charge_position) REFERENCES charge_position(id_charge_position)
);
------
INSERT INTO person
SELECT 1, 'LEE', 'ANDERSON', 'landerson@mail.com' UNION
SELECT 2, 'JANE', 'FONDA', 'jfonda@mail.com' UNION
SELECT 3, 'MARIA', 'CALLAS', 'mcallas@mail.com' UNION
SELECT 4, 'YURI', 'GAGARIN', 'ygagarin@mail.com' UNION
SELECT 5, 'ANTONIE', 'DE SAINT', 'adesaint@mail.com' UNION
SELECT 6, 'TONY', 'CURTIS', 'tcurtis@mail.com'
;
--
INSERT INTO charge_position
SELECT 25, 'Software Engineer' UNION
SELECT 26, 'Leader Software Engineer' UNION
SELECT 27, 'Leader Research'
;
--
INSERT INTO person_hour_value
SELECT 1, 201608, 125 UNION
SELECT 1, 201703, 125 UNION
SELECT 1, 201704, 125 UNION
SELECT 1, 201705, 125 UNION
SELECT 1, 201706, 125 UNION
SELECT 1, 201707, 135 UNION
SELECT 1, 201708, 135 UNION
SELECT 1, 201709, 135 UNION
SELECT 1, 201710, 135 UNION
SELECT 1, 201711, 150 UNION
SELECT 1, 201712, 150
;

INSERT INTO person_hour_value
SELECT 2, 201608, 125 UNION
SELECT 2, 201703, 125 UNION
SELECT 2, 201704, 125 UNION
SELECT 2, 201705, 125 UNION
SELECT 2, 201706, 125 UNION
SELECT 2, 201707, 125 UNION
SELECT 2, 201708, 125 UNION
SELECT 2, 201709, 125 UNION
SELECT 2, 201710, 125 UNION
SELECT 2, 201711, 125 UNION
SELECT 2, 201712, 125
;

INSERT INTO person_hour_value
SELECT 3, 201608, 125 UNION
SELECT 3, 201703, 125 UNION
SELECT 3, 201704, 125 UNION
SELECT 3, 201705, 125 UNION
SELECT 3, 201706, 125 UNION
SELECT 3, 201707, 125 UNION
SELECT 3, 201708, 125 UNION
SELECT 3, 201709, 145 UNION
SELECT 3, 201710, 145 UNION
SELECT 3, 201711, 145 UNION
SELECT 3, 201712, 145
;

INSERT INTO person_hour_value
SELECT 4, 201608, 125 UNION
SELECT 4, 201703, 125 UNION
SELECT 4, 201704, 125 UNION
SELECT 4, 201705, 125 UNION
SELECT 4, 201706, 125 UNION
SELECT 4, 201707, 125 UNION
SELECT 4, 201708, 135 UNION
SELECT 4, 201709, 135 UNION
SELECT 4, 201710, 135 UNION
SELECT 4, 201711, 135 UNION
SELECT 4, 201712, 135
;

INSERT INTO person_hour_value
SELECT 5, 201608, 125 UNION
SELECT 5, 201703, 125 UNION
SELECT 5, 201704, 125 UNION
SELECT 5, 201705, 125 UNION
SELECT 5, 201706, 125 UNION
SELECT 5, 201707, 125 UNION
SELECT 5, 201708, 125 UNION
SELECT 5, 201709, 125 UNION
SELECT 5, 201710, 125 UNION
SELECT 5, 201711, 125 UNION
SELECT 5, 201712, 125
;
---
INSERT INTO person_work_situation
SELECT 1, 26, 1, 201608 UNION
SELECT 2, 26, 1, 201704 UNION
SELECT 3, 26, 1, 201705 UNION
SELECT 4, 26, 1, 201706 UNION
SELECT 5, 26, 1, 201707 UNION
SELECT 6, 26, 1, 201708 UNION
SELECT 7, 26, 1, 201709 UNION
SELECT 8, 26, 1, 201710 UNION
SELECT 9, 26, 1, 201711 UNION
SELECT 10, 26, 1, 201712 UNION
SELECT 11, 25, 2, 201608 UNION
SELECT 12, 25, 2, 201704 UNION
SELECT 13, 25, 2, 201705 UNION
SELECT 14, 25, 2, 201706 UNION
SELECT 15, 25, 2, 201707 UNION
SELECT 16, 25, 2, 201708 UNION
SELECT 17, 25, 2, 201709 UNION
SELECT 18, 25, 2, 201710 UNION
SELECT 19, 25, 2, 201711 UNION
SELECT 20, 25, 2, 201712 UNION
SELECT 21, 25, 3, 201608 UNION
SELECT 22, 25, 3, 201704 UNION
SELECT 23, 25, 3, 201705 UNION
SELECT 24, 25, 3, 201706 UNION
SELECT 25, 26, 3, 201707 UNION
SELECT 26, 26, 3, 201708 UNION
SELECT 27, 26, 3, 201709 UNION
SELECT 28, 26, 3, 201710 UNION
SELECT 29, 27, 3, 201711 UNION
SELECT 30, 27, 3, 201712 UNION
SELECT 31, 25, 4, 201608 UNION
SELECT 32, 25, 4, 201704 UNION
SELECT 33, 25, 4, 201705 UNION
SELECT 34, 25, 4, 201706 UNION
SELECT 35, 26, 4, 201707 UNION
SELECT 36, 26, 4, 201708 UNION
SELECT 37, 26, 4, 201709 UNION
SELECT 38, 26, 4, 201710 UNION
SELECT 39, 27, 4, 201711 UNION
SELECT 40, 27, 4, 201712 UNION
SELECT 41, 27, 5, 201608 UNION
SELECT 42, 27, 5, 201704 UNION
SELECT 43, 27, 5, 201705 UNION
SELECT 44, 27, 5, 201706 UNION
SELECT 45, 27, 5, 201707 UNION
SELECT 46, 27, 5, 201708 UNION
SELECT 47, 27, 5, 201709 UNION
SELECT 48, 27, 5, 201710 UNION
SELECT 49, 27, 5, 201711 UNION
SELECT 50, 27, 5, 201712
;
